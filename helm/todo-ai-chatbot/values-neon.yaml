# Sample values file for deploying with Neon PostgreSQL
# This file can be used with: helm install todo-ai ./helm -f values-neon.yaml

global:
  imagePullPolicy: IfNotPresent

frontend:
  enabled: true
  image:
    repository: hackathon-phase3-chatbot/frontend
    tag: "latest"
  replicaCount: 1
  service:
    type: ClusterIP
    port: 3000
    targetPort: 3000
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

backend:
  enabled: true
  image:
    repository: hackathon-phase3-chatbot/backend
    tag: "latest"
  replicaCount: 1
  service:
    type: ClusterIP
    port: 7860
    targetPort: 7860
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi
  probes:
    liveness:
      initialDelaySeconds: 30
      periodSeconds: 10
      timeoutSeconds: 5
      failureThreshold: 3
    readiness:
      initialDelaySeconds: 5
      periodSeconds: 5
      timeoutSeconds: 3
      failureThreshold: 3

mcp:
  enabled: true
  image:
    repository: hackathon-phase3-chatbot/backend
    tag: "latest"
  replicaCount: 1
  service:
    type: ClusterIP
    port: 8000
    targetPort: 8000
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

# External Neon PostgreSQL database configuration
externalDatabase:
  host: "ep-xxx-xxxxxxx.us-east-1.aws.neon.tech"
  port: 5432
  database: "todo_chatbot"
  username: "todo_user"
  passwordSecret: "neon-db-password-secret"
  passwordKey: "password"

# Ingress configuration for external access
ingress:
  enabled: true
  className: ""
  annotations:
    kubernetes.io/ingress.class: nginx
    kubernetes.io/tls-acme: "true"
  hostname: "todo-ai.local"
  tls: false
  tlsSecret: "todo-ai-tls"

# Disable internal database since we're using external Neon PostgreSQL
database:
  enabled: false